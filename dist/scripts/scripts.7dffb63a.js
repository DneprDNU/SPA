"use strict";angular.module("dnuApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","restAuth","ui.bootstrap","angularFileUpload","restFacultyResource","restCategoryResource","restDepartmentResource","restSpecialityResource","restSearchResource","restSubjectResource","restLinkResource","restTeacherResource","restResourceResource","restUserResource","restFreeResourceResource","dnuApp.directives"]).run(["$rootScope",function(a){a.serviceIp="212.3.125.102"}]).config(["$routeProvider","$locationProvider","$httpProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).when("/auth",{templateUrl:"views/auth.html",controller:"AuthCtrl"}).when("/faculties",{templateUrl:"views/faculties.html",controller:"FacultiesCtrl"}).when("/faculty/:id",{templateUrl:"views/faculty.html",controller:"FacultyCtrl"}).when("/departments",{templateUrl:"views/departments.html",controller:"DepartmentsCtrl"}).when("/faculty/:facultyId/department/:id",{templateUrl:"views/department.html",controller:"DepartmentCtrl"}).when("/subjects",{templateUrl:"views/subjects.html",controller:"SubjectsCtrl"}).when("/teachers",{templateUrl:"views/teachers.html",controller:"TeachersCtrl"}).when("/free-resources",{templateUrl:"views/free-resources.html",controller:"FreeResourcesCtrl"}).when("/resource/:id",{templateUrl:"views/resource.html",controller:"ResourceCtrl"}).when("/resources",{templateUrl:"views/resources.html",controller:"ResourcesCtrl"}).when("/specialities",{templateUrl:"views/specialities.html",controller:"SpecialitiesCtrl"}).when("/faculty/:facultyId/speciality/:id",{templateUrl:"views/speciality.html",controller:"SpecialityCtrl"}).when("/faculty/:facultyId/speciality/:specId/subject/:id",{templateUrl:"views/subject.html",controller:"SubjectCtrl"}).when("/faculty/:facultyId/speciality/:specId/teacher/:id",{templateUrl:"views/teacher.html",controller:"TeacherCtrl"}).when("/faculty/:facultyId/department/:departmentId/subject/:id",{templateUrl:"views/subject.html",controller:"SubjectCtrl"}).when("/faculty/:facultyId/department/:departmentId/teacher/:id",{templateUrl:"views/teacher.html",controller:"TeacherCtrl"}).when("/admin",{templateUrl:"views/admin_menu.html",controller:"AdminMenuCtrl"}).when("/admin/faculties",{templateUrl:"views/admin/faculty/faculties.html",controller:"FacultyAdminListCtrl"}).when("/admin/faculty",{templateUrl:"views/admin/faculty/faculty.html",controller:"FacultyAdminCreateCtrl"}).when("/admin/faculty/:id",{templateUrl:"views/admin/faculty/faculty.html",controller:"FacultyAdminEditCtrl"}).when("/admin/categories",{templateUrl:"views/admin/category/categories.html",controller:"CategoryAdminListCtrl"}).when("/admin/category",{templateUrl:"views/admin/category/category.html",controller:"CategoryAdminCreateCtrl"}).when("/admin/category/:id",{templateUrl:"views/admin/category/category.html",controller:"CategoryAdminEditCtrl"}).when("/admin/free-categories",{templateUrl:"views/admin/free_category/categories.html",controller:"FreeCategoryAdminListCtrl"}).when("/admin/free-category",{templateUrl:"views/admin/free_category/category.html",controller:"FreeCategoryAdminCreateCtrl"}).when("/admin/free-category/:id",{templateUrl:"views/admin/free_category/category.html",controller:"FreeCategoryAdminEditCtrl"}).when("/admin/resources",{templateUrl:"views/admin/resource/resources.html",controller:"ResourceAdminListCtrl"}).when("/admin/resource",{templateUrl:"views/admin/resource/resource.html",controller:"ResourceAdminCreateCtrl"}).when("/admin/resource/:id",{templateUrl:"views/admin/resource/resource.html",controller:"ResourceAdminEditCtrl"}).when("/admin/free-resources",{templateUrl:"views/admin/free-resource/free-resources.html",controller:"FreeResourceAdminListCtrl"}).when("/admin/free-resource",{templateUrl:"views/admin/free-resource/free-resource.html",controller:"FreeResourceAdminCreateCtrl"}).when("/admin/free-resource/:id",{templateUrl:"views/admin/free-resource/free-resource.html",controller:"FreeResourceAdminEditCtrl"}).when("/admin/teachers",{templateUrl:"views/admin/teacher/teachers.html",controller:"TeacherAdminListCtrl"}).when("/admin/teacher",{templateUrl:"views/admin/teacher/teacher.html",controller:"TeacherAdminCreateCtrl"}).when("/admin/teacher/:id",{templateUrl:"views/admin/teacher/teacher.html",controller:"TeacherAdminEditCtrl"}).when("/admin/links",{templateUrl:"views/admin/links/links.html",controller:"LinkAdminListCtrl"}).when("/admin/link",{templateUrl:"views/admin/links/link.html",controller:"LinkAdminCreateCtrl"}).when("/admin/link/:id",{templateUrl:"views/admin/links/link.html",controller:"LinkAdminEditCtrl"}).when("/admin/subjects",{templateUrl:"views/admin/subject/subjects.html",controller:"SubjectAdminListCtrl"}).when("/admin/subject",{templateUrl:"views/admin/subject/subject.html",controller:"SubjectAdminCreateCtrl"}).when("/admin/subject/:id",{templateUrl:"views/admin/subject/subject.html",controller:"SubjectAdminEditCtrl"}).when("/admin/users",{templateUrl:"views/admin/user/users.html",controller:"UserAdminListCtrl"}).when("/admin/user",{templateUrl:"views/admin/user/user.html",controller:"UserAdminCreateCtrl"}).when("/admin/user/:id",{templateUrl:"views/admin/user/user.html",controller:"UserAdminEditCtrl"}).when("/admin/specialities",{templateUrl:"views/admin/speciality/specialities.html",controller:"SpecialityAdminListCtrl"}).when("/admin/speciality",{templateUrl:"views/admin/speciality/speciality.html",controller:"SpecialityAdminCreateCtrl"}).when("/admin/speciality/:id",{templateUrl:"views/admin/speciality/speciality.html",controller:"SpecialityAdminEditCtrl"}).when("/admin/departments",{templateUrl:"views/admin/department/departments.html",controller:"DepartmentAdminListCtrl"}).when("/admin/department",{templateUrl:"views/admin/department/department.html",controller:"DepartmentAdminCreateCtrl"}).when("/admin/department/:id",{templateUrl:"views/admin/department/department.html",controller:"DepartmentAdminEditCtrl"}).otherwise({redirectTo:"/"}),c.defaults.useXDomain=!0,delete c.defaults.headers.common["X-Requested-With"],c.interceptors.push(["$q","$rootScope","$location",function(a,b,c){return{responseError:function(d){var e=d.status,f=d.config,g=f.method,h=f.url;return 401==e?c.path("/auth"):b.error=g+" on "+h+" failed with status "+e,a.reject(d)}}}]),c.interceptors.push(["$q","$rootScope","$location",function(a,b){return{request:function(c){return angular.isDefined(b.authToken)&&(c.headers["X-Auth-Token"]=b.authToken),c||a.when(c)}}}])}]).run(["$rootScope","$location","$cookieStore","AuthService","$route",function(a,b,c,d,e){a.$on("$viewContentLoaded",function(){delete a.error}),a.isLoggedIn=d.isAuthenticated(),a.isSuper=d.isSuper(),a.isAdmin=d.isAdmin(),a.isEditor=d.isEditor(),a.authToken=c.get("authToken"),void 0===a.authToken||d.isAuthenticated()||d.login(),a.serviceIp="212.3.125.102",a.updateIsotope=function(){window.dispatchEvent(new Event("resize"))},e.reload("main-menu")}]),angular.module("dnuApp").controller("MainCtrl",["$scope","$rootScope",function(){}]),angular.module("dnuApp").controller("AboutCtrl",["$scope",function(){}]),angular.module("dnuApp").controller("ContactCtrl",["$scope",function(){}]),angular.module("dnuApp").controller("CategoriesListCtrl",["$scope","$routeParams","restResources","restCategories",function(a,b,c,d){a.categories=d.list(),a.categoryResourcesAmount=[],a.categoriesWithContent=[],angular.forEach(a.categories,function(b,c){a.categoriesWithContent[c]=b}),a.filterCategories=function(a){return a.resourceCount>0}}]),angular.module("dnuApp").controller("AuthCtrl",["$scope","$rootScope","$location","$cookieStore","restAuthentication","AuthService","AUTH_EVENTS","USER_ROLES",function(a,b,c,d,e,f,g){a.login=function(){e.authenticate($.param({username:a.username,password:a.password}),function(e){var h=e.token;b.authToken=h,void 0!==h&&(d.put("authToken",h),b.loggedIn=!1),f.login({username:a.username,password:a.password}).then(function(a){b.$broadcast(g.loginSuccess),b.user=a,c.path(f.isAdmin()?"/admin":"/")},function(){b.$broadcast(g.loginFailed)})})}}]),angular.module("dnuApp").controller("FreeResourcesCtrl",["$scope","$routeParams","restSearch","restFreeResources",function(a,b,c,d){a.freeResources=void 0!==b.search?c.search({searchKey:b.search}):d.list()}]),angular.module("dnuApp").controller("FreeLastResourcesCtrl",["$scope","restResources",function(a,b){a.resources=b.list()}]),angular.module("dnuApp").controller("FreeResourceCtrl",["$scope","$routeParams","restFreeResource",function(a,b,c){a.freeResource=c.get({id:b.id})}]),angular.module("dnuApp").controller("FacultiesCtrl",["$scope","$timeout","restFaculties",function(a,b,c){a.collection=[],a.update=function(){c.list({},function(b){a.collection=b}),b(a.update,1e4)},a.update(),a.addOne=function(){a.collection.push({id:1,title:"Faculty",src:"http://dnu.thebodva.com/upload/b32f3d1ef28edf602362b91cb935886f.jpg"})}}]),angular.module("dnuApp").controller("FacultyCtrl",["$scope","$timeout","$routeParams","restFaculty","restSpecialities",function(a,b,c,d,e){a.faculty=d.get({id:c.id}),a.departments=a.faculty.departments,a.specialities=e.list({facultyId:c.id})}]),angular.module("dnuApp").controller("SpecialitiesCtrl",["$scope","$timeout","restSpecialities",function(a,b,c){a.collection=[],a.update=function(){c.list({},function(b){a.collection=b}),b(a.update,1e4)},a.update(),a.addOne=function(){a.collection.push({id:1,title:"Speciality",src:"http://dnu.thebodva.com/upload/b32f3d1ef28edf602362b91cb935886f.jpg"})}}]),angular.module("dnuApp").controller("SpecialityCtrl",["$scope","$routeParams","restSpeciality","restFaculty","restSubjects","restTeachers",function(a,b,c,d,e,f){a.speciality=c.get({id:b.id,facultyId:b.facultyId}),a.faculty=d.get({id:b.facultyId}),a.subjects=e.list({specialityId:b.id}),a.teachers=f.list({specialityId:b.id})}]),angular.module("dnuApp").controller("DepartmentsCtrl",["$scope","$timeout","restTeachers",function(a,b,c){a.collection=[],a.update=function(){c.list({},function(b){a.collection=b}),b(a.update,1e4)},a.update(),a.addOne=function(){a.collection.push({id:1,title:"Department",src:"http://dnu.thebodva.com/upload/b32f3d1ef28edf602362b91cb935886f.jpg"})}}]),angular.module("dnuApp").controller("DepartmentCtrl",["$scope","$timeout","$routeParams","restDepartment","restSubjects","restTeachers","restFaculty",function(a,b,c,d,e,f,g){a.department=d.get({id:c.id}),a.faculty=g.get({id:c.facultyId}),a.subjects=e.list({departmentId:c.id}),a.specialities=a.department.specialities,a.teachers=a.department.employees}]),angular.module("dnuApp").controller("TeachersCtrl",["$scope","$timeout","restTeachers",function(a,b,c){a.collection=[],a.update=function(){c.list({},function(b){a.collection=b}),b(a.update,1e4)},a.update(),a.addOne=function(){a.collection.push({id:1,title:"Teacher",src:"http://dnu.thebodva.com/upload/b32f3d1ef28edf602362b91cb935886f.jpg"})}}]),angular.module("dnuApp").controller("TeacherCtrl",["$scope","$routeParams","restResources",function(a,b,c){a.resources=c.list({teacherId:b.id})}]),angular.module("dnuApp").controller("ResourcesCtrl",["$scope","$rootScope","$routeParams","restSearch","restResources",function(a,b,c,d,e){a.resources=void 0!==c.search?d.search({searchKey:c.search}):void 0!==c.categoryId?e.list({categoryId:c.categoryId}):e.list()}]),angular.module("dnuApp").controller("LastResourcesCtrl",["$scope","restResources",function(a,b){a.resources=b.list()}]),angular.module("dnuApp").controller("ResourceCtrl",["$scope","$rootScope","$routeParams","restResource",function(a,b,c,d){a.isLoggedIn=b.isLoggedIn,a.resource=d.get({id:c.id})}]),angular.module("dnuApp").controller("SubjectsCtrl",["$scope","$timeout","restSubjects",function(a,b,c){a.collection=[],a.update=function(){c.list({},function(b){a.collection=b}),b(a.update,1e4)},a.update(),a.addOne=function(){a.collection.push({id:1,title:"Subject",src:"http://dnu.thebodva.com/upload/b32f3d1ef28edf602362b91cb935886f.jpg"})}}]),angular.module("dnuApp").controller("SubjectCtrl",["$scope","$routeParams","restSubject",function(a,b,c){a.subject=c.get({id:b.id})}]),angular.module("dnuApp").controller("SearchCtrl",["$scope","$location",function(a,b){a.searchKey="",a.search=function(){b.path("/resources").search({search:a.searchKey})}}]),angular.module("dnuApp").controller("AdminMenuCtrl",["$scope","$rootScope","$location","restAuthentication","AuthService",function(a,b,c,d,e){d.get(function(){e.isAdmin()||c.path("/auth"),a.isSuper=e.isSuper(),a.isEditor=e.isEditor()})}]),angular.module("dnuApp").controller("MainMenuCtrl",["$scope","$rootScope","$cookieStore","Session","AuthService",function(a,b,c,d,e){a.isAdmin=b.isAdmin,a.loggedIn=b.isLoggedIn,a.logout=function(){d.destroy(),e.reInit(),c.remove("authToken")}}]),angular.module("dnuApp").controller("FacultyAdminListCtrl",["$scope","$routeParams","$location","restFaculty","restFaculties",function(a,b,c,d,e){if(a.editFaculty=function(a){c.path("/admin/faculty/"+a)},a.deleteFaculty=function(b){d["delete"]({id:b},function(){a.faculties=e.list()})},a.createNewFaculty=function(){c.path("/admin/faculty")},a.pager={current:1,items:[],count:1},e.count(function(c){a.pager.count=c.count;for(var d=0;a.pager.count/10>=d;d++){var e=d+1;a.pager.items.push({active:e==(void 0!==b.page?b.page:1),number:e,url:"#/admin/faculties?page="+e})}}),a.pager.current=void 0!==b.page?b.page:1,a.pager.items=[],void 0!==b.page){var f=10*(b.page-1),g=10*b.page;a.faculties=e.admin_list({from:f,to:g})}else a.faculties=e.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("FacultyAdminEditCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restFaculty","restDepartments",function(a,b,c,d,e,f,g){a.save=function(){if(angular.isArray(a.faculty.image)){var e=[],g=[];e.push(a.faculty.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/faculty/"+a.faculty.id,method:"PUT",data:{resource:a.faculty},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/faculties")}).error(function(){c.path("/admin/faculties")})}else f.update(a.faculty,function(){c.path("/admin/faculties")},function(){c.path("/admin/faculties")})},a.cancel=function(){c.path("/admin/faculties")},a.faculty=f.get({id:e.id}),a.departments=g.list(),a.createNewFaculty=function(){c.path("/admin/faculty")}}]),angular.module("dnuApp").controller("FacultyAdminCreateCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restFaculties","restDepartments",function(a,b,c,d,e,f,g){a.save=function(){if(angular.isArray(a.faculty.image)){var e=[],g=[];e.push(a.faculty.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/faculty/",method:"POST",data:{resource:a.faculty},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/faculties")})}else f.create(a.faculty,function(){c.path("/admin/faculties")})},a.departments=g.list(),a.cancel=function(){c.path("/admin/faculties")}}]),angular.module("dnuApp").controller("ResourceAdminListCtrl",["$scope","$location","$routeParams","restResources","restResource",function(a,b,c,d,e){if(a.editResource=function(a){b.path("/admin/resource/"+a)},a.deleteResource=function(b){e["delete"]({id:b},function(){a.resources=d.list()})},a.createNewResource=function(){b.path("/admin/resource")},a.pager={current:1,items:[],count:1},d.count(function(b){a.pager.count=b.count;for(var d=0;a.pager.count/10>=d;d++){var e=d+1;a.pager.items.push({active:e==(void 0!==c.page?c.page:1),number:e,url:"#/admin/resources?page="+e})}}),a.pager.current=void 0!==c.page?c.page:1,a.pager.items=[],void 0!==c.page){var f=10*(c.page-1),g=10*c.page;a.resources=d.admin_list({from:f,to:g})}else a.resources=d.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("ResourceAdminEditCtrl",["$scope","$rootScope","$location","$routeParams","$upload","restResource","restCategories","restSubjects","restSpecialities",function(a,b,c,d,e,f,g,h,i){a.save=function(){if(angular.isArray(a.resource.image)||angular.isArray(a.resource.fileR)){var d=[],g=[];angular.isArray(a.resource.image)&&(d.push(a.resource.image[0]),g.push("image")),angular.isArray(a.resource.fileR)&&(d.push(a.resource.fileR[0]),g.push("file")),a.upload=e.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/resource/"+a.resource.id,method:"PUT",data:{resource:a.resource},file:d,fileFormDataName:g}).success(function(){c.path("/admin/resources")}).error(function(){c.path("/admin/resources")})}else f.update(a.resource,function(){c.path("/admin/resources")},function(){c.path("/admin/resources")});c.path("/admin/resources")},a.cancel=function(){c.path("/admin/resources")},a.resource=f.get({id:d.id}),a.resource_image=a.resource.image||"images/default-picture.png",a.categories=g.list(),a.specialities=i.list(),a.subjects=h.list(),a.createNewResource=function(){c.path("/admin/resource")}}]),angular.module("dnuApp").controller("ResourceAdminCreateCtrl",["$scope","$rootScope","$location","$routeParams","$upload","restResources","restCategories","restSubjects","restSpecialities",function(a,b,c,d,e,f,g,h,i){a.save=function(){if(angular.isArray(a.resource.image)||angular.isArray(a.resource.fileR)){var d=[],g=[];angular.isArray(a.resource.image)&&(d.push(a.resource.image[0]),g.push("image")),angular.isArray(a.resource.fileR)&&(d.push(a.resource.fileR[0]),g.push("file")),a.upload=e.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/resource/",method:"POST",data:{resource:a.resource},file:d,fileFormDataName:["image","file"]}).success(function(){c.path("/admin/resources")}).error(function(){c.path("/admin/resources")})}else f.create(a.resource,function(){c.path("/admin/resources")},function(){c.path("/admin/resources")})},a.categories=g.list(),a.subjects=h.list(),a.specialities=i.list(),a.resource_image="images/default-picture.png",a.cancel=function(){c.path("/admin/resources")}}]),angular.module("dnuApp").controller("FreeResourceAdminListCtrl",["$scope","$location","restFreeResources","restFreeResource","$routeParams",function(a,b,c,d,e){if(a.editResource=function(a){b.path("/admin/free-resource/"+a)},a.deleteResource=function(b){d["delete"]({id:b},function(){a.freeResources=c.list()})},a.createNewResource=function(){b.path("/admin/free-resource")},a.pager={current:1,items:[],count:1},c.count(function(b){a.pager.count=b.count;for(var c=0;a.pager.count/10>=c;c++){var d=c+1;a.pager.items.push({active:d==(void 0!==e.page?e.page:1),number:d,url:"#/admin/free-resources?page="+d})}}),a.pager.current=void 0!==e.page?e.page:1,a.pager.items=[],void 0!==e.page){var f=10*(e.page-1),g=10*e.page;a.freeResources=c.admin_list({from:f,to:g})}else a.freeResources=c.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("FreeResourceAdminEditCtrl",["$scope","$rootScope","$location","$routeParams","$upload","restFreeResource","restFreeCategories","restSubjects",function(a,b,c,d,e,f,g,h){a.save=function(){f.update(a.freeResource),c.path("/admin/free-resources")},a.cancel=function(){c.path("/admin/free-resources")},a.freeResource=f.get({id:d.id}),a.categories=g.list(),a.subjects=h.list(),a.createNewResource=function(){c.path("/admin/free-resource")}}]),angular.module("dnuApp").controller("FreeResourceAdminCreateCtrl",["$scope","$location","$routeParams","restFreeResources","restFreeCategories","restSubjects",function(a,b,c,d,e,f){a.save=function(){d.create(a.freeResource,function(){b.path("/admin/free-resources")})},a.categories=e.list(),a.subjects=f.list(),a.cancel=function(){b.path("/admin/free-resources")}}]),angular.module("dnuApp").controller("CategoryAdminListCtrl",["$scope","$location","restFaculty","restCategories","restCategory","$routeParams",function(a,b,c,d,e,f){if(a.editCategory=function(a){b.path("/admin/category/"+a)},a.deleteCategory=function(b){e["delete"]({id:b},function(){a.categories=d.list()},function(){a.categories=d.list()})},a.createNewCategory=function(){b.path("/admin/category")},a.pager={current:1,items:[],count:1},d.count(function(b){a.pager.count=b.count;for(var c=0;a.pager.count/10>=c;c++){var d=c+1;a.pager.items.push({active:d==(void 0!==f.page?f.page:1),number:d,url:"#/admin/categories?page="+d})}}),a.pager.current=void 0!==f.page?f.page:1,a.pager.items=[],void 0!==f.page){var g=10*(f.page-1),h=10*f.page;a.categories=d.admin_list({from:g,to:h})}else a.categories=d.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("FreeCategoryAdminEditCtrl",["$scope","$location","$routeParams","restFreeCategory",function(a,b,c,d){a.save=function(){d.update(a.category,function(){b.path("/admin/free-categories")})},a.cancel=function(){b.path("/admin/free-categories")},a.category=d.get({id:c.id}),a.createNewCategory=function(){b.path("/admin/free-categories")}}]),angular.module("dnuApp").controller("FreeCategoryAdminCreateCtrl",["$scope","$location","$routeParams","restFreeCategories",function(a,b,c,d){a.save=function(){d.create(a.category,function(){b.path("/admin/free-categories")})},a.cancel=function(){b.path("/admin/free-categories")}}]),angular.module("dnuApp").controller("FreeCategoryAdminListCtrl",["$scope","$location","restFaculty","restFreeCategories","restFreeCategory","$routeParams",function(a,b,c,d,e,f){if(a.editCategory=function(a){b.path("/admin/free-category/"+a)},a.deleteCategory=function(b){e["delete"]({id:b},function(){a.categories=d.list()},function(){a.categories=d.list()})},a.createNewCategory=function(){b.path("/admin/free-category")},a.pager={current:1,items:[],count:1},d.count(function(b){a.pager.count=b.count;for(var c=0;a.pager.count/10>=c;c++){var d=c+1;a.pager.items.push({active:d==(void 0!==f.page?f.page:1),number:d,url:"#/admin/free-categories?page="+d})}}),a.pager.current=void 0!==f.page?f.page:1,a.pager.items=[],void 0!==f.page){var g=10*(f.page-1),h=10*f.page;a.categories=d.admin_list({from:g,to:h})}else a.categories=d.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("CategoryAdminEditCtrl",["$scope","$location","$routeParams","restCategory",function(a,b,c,d){a.save=function(){d.update(a.category,function(){b.path("/admin/categories")})},a.cancel=function(){b.path("/admin/categories")},a.category=d.get({id:c.id}),a.createNewCategory=function(){b.path("/admin/categories")}}]),angular.module("dnuApp").controller("CategoryAdminCreateCtrl",["$scope","$location","$routeParams","restCategories",function(a,b,c,d){a.save=function(){d.create(a.category,function(){b.path("/admin/categories")})},a.cancel=function(){b.path("/admin/categories")}}]),angular.module("dnuApp").controller("TeacherAdminEditCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restTeacher",function(a,b,c,d,e,f){a.save=function(){if(angular.isArray(a.teacher.image)){var e=[],g=[];e.push(a.teacher.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/teacher/"+a.teacher.id,method:"PUT",data:{resource:a.teacher},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/teachers")})}else f.update(a.teacher,function(){c.path("/admin/teachers")})},a.cancel=function(){c.path("/admin/teachers")},a.teacher=f.get({id:e.id}),a.createNewTeacher=function(){c.path("/admin/teachers")}}]),angular.module("dnuApp").controller("TeacherAdminCreateCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restTeachers",function(a,b,c,d,e,f){a.save=function(){if(angular.isArray(a.teacher.image)){var e=[],g=[];e.push(a.teacher.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/teacher/",method:"POST",data:{resource:a.teacher},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/teachers")})}else f.create(a.teacher,function(){c.path("/admin/teachers")})},a.cancel=function(){c.path("/admin/teachers")}}]),angular.module("dnuApp").controller("TeacherAdminListCtrl",["$scope","$location","restFaculty","restTeachers","restTeacher","$routeParams",function(a,b,c,d,e,f){if(a.editTeacher=function(a){b.path("/admin/teacher/"+a)},a.deleteTeacher=function(b){e["delete"]({id:b},function(){a.teachers=d.list()})},a.createNewTeacher=function(){b.path("/admin/teacher")},a.pager={current:1,items:[],count:1},d.count(function(b){a.pager.count=b.count;for(var c=0;a.pager.count/10>=c;c++){var d=c+1;a.pager.items.push({active:d==(void 0!==f.page?f.page:1),number:d,url:"#/admin/teachers?page="+d})}}),a.pager.current=void 0!==f.page?f.page:1,a.pager.items=[],void 0!==f.page){var g=10*(f.page-1),h=10*f.page;a.teachers=d.admin_list({from:g,to:h})}else a.teachers=d.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("LinkAdminEditCtrl",["$scope","restSpecialities","restSubjects","restTeachers","$location","$routeParams","restLink",function(a,b,c,d,e,f,g){a.save=function(){d.update(a.link),e.path("/admin/links")},a.cancel=function(){e.path("/admin/links")},a.link=g.get({id:f.id}),a.specialities=b.list(),a.subjects=c.list(),a.teachers=d.list(),a.createNewLink=function(){e.path("/admin/links")}}]),angular.module("dnuApp").controller("LinkAdminCreateCtrl",["$scope","$location","restSpecialities","restSubjects","restTeachers","$routeParams","restLinks",function(a,b,c,d,e,f,g){a.save=function(){g.create(a.link,function(){b.path("/admin/links")})},a.specialities=c.list(),a.subjects=d.list(),a.teachers=e.list(),a.cancel=function(){b.path("/admin/links")}}]),angular.module("dnuApp").controller("LinkAdminListCtrl",["$scope","$location","$routeParams","restFaculty","restLinks","restLink",function(a,b,c,d,e,f){if(a.editLink=function(a){b.path("/admin/link/"+a)},a.deleteLink=function(b){f["delete"]({id:b},function(){a.links=e.list()})},a.createNewLink=function(){b.path("/admin/link")},a.pager={current:1,items:[],count:1},e.count(function(b){a.pager.count=b.count;for(var d=0;a.pager.count/10>=d;d++){var e=d+1;a.pager.items.push({active:e==(void 0!==c.page?c.page:1),number:e,url:"#/admin/links?page="+e})}}),a.pager.current=void 0!==c.page?c.page:1,a.pager.items=[],void 0!==c.page){var g=10*(c.page-1),h=10*c.page;a.links=e.admin_list({from:g,to:h})}else a.links=e.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("SubjectAdminEditCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restSubject","restTeachers","restResources",function(a,b,c,d,e,f,g,h){a.save=function(){if(angular.isArray(a.subject.image)){var e=[],g=[];e.push(a.subject.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/subject/"+a.subject.id,method:"PUT",data:{resource:a.subject},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/subjects")}).error(function(){c.path("/admin/subjects")})}else f.update(a.subject,function(){c.path("/admin/subjects")},function(){c.path("/admin/subjects")})},a.cancel=function(){c.path("/admin/subjects")},a.subject=f.get({id:e.id}),a.supervisors=g.list(),a.resources=h.list(),a.createNewSubject=function(){c.path("/admin/subjects")}}]),angular.module("dnuApp").controller("SubjectAdminCreateCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restSubjects","restTeachers","restResources",function(a,b,c,d,e,f,g,h){a.save=function(){if(angular.isArray(a.subject.image)){var e=[],g=[];e.push(a.subject.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/subject/",method:"POST",data:{resource:a.subject},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/subjects")})}else f.create(a.subject,function(){c.path("/admin/subjects")})},a.subject={},a.resources=h.list(),a.supervisors=g.list(),a.cancel=function(){c.path("/admin/subjects")}}]),angular.module("dnuApp").controller("SubjectAdminListCtrl",["$scope","$location","restFaculty","restSubjects","restSubject","$routeParams",function(a,b,c,d,e,f){if(a.editSubject=function(a){b.path("/admin/subject/"+a)},a.deleteSubject=function(b){e["delete"]({id:b},function(){a.subjects=d.list()})},a.createNewSubject=function(){b.path("/admin/subject")},a.pager={current:1,items:[],count:1},d.count(function(b){a.pager.count=b.count;for(var c=0;a.pager.count/10>=c;c++){var d=c+1;a.pager.items.push({active:d==(void 0!==f.page?f.page:1),number:d,url:"#/admin/subjects?page="+d})}}),a.pager.current=void 0!==f.page?f.page:1,a.pager.items=[],void 0!==f.page){var g=10*(f.page-1),h=10*f.page;a.subjects=d.admin_list({from:g,to:h})}else a.subjects=d.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("SpecialityAdminEditCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restSpeciality","restDepartments","restTeachers",function(a,b,c,d,e,f,g,h){a.save=function(){if(angular.isArray(a.speciality.image)){var e=[],g=[];e.push(a.speciality.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/speciality/"+a.speciality.id,method:"PUT",data:{resource:a.speciality},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/specialities")}).error(function(){c.path("/admin/specialities")})}else f.update(a.speciality,function(){c.path("/admin/specialities")},function(){c.path("/admin/specialities")});c.path("/admin/specialities")},a.cancel=function(){c.path("/admin/specialities")},a.speciality=f.get({id:e.id}),a.supervisors=h.list(),a.departments=g.admin_list(),a.createNewSpeciality=function(){c.path("/admin/specialities")}}]),angular.module("dnuApp").controller("SpecialityAdminCreateCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restSpecialities","restTeachers","restDepartments",function(a,b,c,d,e,f,g,h){a.save=function(){if(angular.isArray(a.speciality.image)){var e=[],g=[];e.push(a.speciality.image[0]),g.push("image"),a.upload=d.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/speciality/",method:"POST",data:{resource:a.speciality},file:e,fileFormDataName:["image"]}).success(function(){c.path("/admin/specialities")}).error(function(){c.path("/admin/specialities")})}else f.create(a.speciality,function(){c.path("/admin/specialities")},function(){c.path("/admin/specialities")})},a.supervisors=g.list(),a.departments=h.admin_list(),a.cancel=function(){c.path("/admin/specialities")}}]),angular.module("dnuApp").controller("SpecialityAdminListCtrl",["$scope","$location","restFaculty","restSpecialities","restSpeciality","$routeParams",function(a,b,c,d,e,f){if(a.editSpeciality=function(a){b.path("/admin/speciality/"+a)},a.deleteSpeciality=function(b){e["delete"]({id:b},function(){a.specialities=d.list()})},a.createNewSpeciality=function(){b.path("/admin/speciality")},a.pager={current:1,items:[],count:1},d.count(function(b){a.pager.count=b.count;for(var c=0;a.pager.count/10>=c;c++){var d=c+1;a.pager.items.push({active:d==(void 0!==f.page?f.page:1),number:d,url:"#/admin/specialities?page="+d})}}),a.pager.current=void 0!==f.page?f.page:1,a.pager.items=[],void 0!==f.page){var g=10*(f.page-1),h=10*f.page;a.specialities=d.admin_list({from:g,to:h})}else a.specialities=d.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("DepartmentAdminEditCtrl",["$scope","$rootScope","$location","$routeParams","$upload","restDepartment","restSpecialities","restTeachers",function(a,b,c,d,e,f,g,h){a.submitProgress=!1,a.save=function(){if(a.submitProgress=!0,angular.isArray(a.department.image)){var d=[],g=[];d.push(a.department.image[0]),g.push("image"),a.upload=e.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/department/"+a.department.id,method:"PUT",data:{resource:a.department},file:d,fileFormDataName:["image"]}).success(function(){c.path("/admin/departments")}).error(function(){c.path("/admin/departments")})}else f.update(a.department,function(){c.path("/admin/departments")},function(){c.path("/admin/departments")})},a.cancel=function(){c.path("/admin/departments")},a.department=f.get({id:d.id}),a.specialitiess=g.list(),a.employeess=h.list(),a.createNewDepartment=function(){c.path("/admin/departments")
}}]),angular.module("dnuApp").controller("DepartmentAdminCreateCtrl",["$scope","$rootScope","$location","$routeParams","$upload","restDepartments","restSpecialities","restTeachers",function(a,b,c,d,e,f,g,h){a.save=function(){if(angular.isArray(a.department.image)){var d=[],g=[];d.push(a.department.image[0]),g.push("image"),a.upload=e.upload({url:"http://"+b.serviceIp+":8080/filestorage/rest/department/",method:"POST",data:{resource:a.department},file:d,fileFormDataName:["image"]}).success(function(){c.path("/admin/departments")}).error(function(){c.path("/admin/departments")})}else f.create(a.department,function(){c.path("/admin/departments")},function(){c.path("/admin/departments")})},a.department={},a.specialitiess=g.list(),a.employeess=h.list(),a.cancel=function(){c.path("/admin/departments")}}]),angular.module("dnuApp").controller("DepartmentAdminListCtrl",["$scope","$location","$routeParams","restFaculty","restDepartments","restDepartment",function(a,b,c,d,e,f){if(a.editDepartment=function(a){b.path("/admin/department/"+a)},a.deleteDepartment=function(b){f["delete"]({id:b},function(){a.departments=e.list({adminMode:1})})},a.createNewDepartment=function(){b.path("/admin/department")},a.pager={current:1,items:[],count:1},e.count(function(b){a.pager.count=b.count;for(var d=0;a.pager.count/10>=d;d++){var e=d+1;a.pager.items.push({active:e==(void 0!==c.page?c.page:1),number:e,url:"#/admin/departments?page="+e})}}),a.pager.current=void 0!==c.page?c.page:1,a.pager.items=[],void 0!==c.page){var g=10*(c.page-1),h=10*c.page;a.departments=e.admin_list({from:g,to:h})}else a.departments=e.admin_list({from:0,to:10})}]),angular.module("dnuApp").controller("UserAdminEditCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restUser","restFaculties",function(a,b,c,d,e,f,g){a.save=function(){f.update(a.userr),c.path("/admin/users")},a.cancel=function(){c.path("/admin/users")},a.roles=[{id:"ROLE_ADMIN",name:"Адміністратор факультету"},{id:"ROLE_SUPERADMIN",name:"Адміністратор репозиторію"},{id:"ROLE_USER",name:"Простий користувач"}],a.userr=f.get({id:e.id}),a.faculties=g.list(),a.createNewUser=function(){c.path("/admin/users")}}]),angular.module("dnuApp").controller("UserAdminCreateCtrl",["$scope","$rootScope","$location","$upload","$routeParams","restUsers","restFaculties",function(a,b,c,d,e,f,g){a.save=function(){f.create(a.userr,function(){c.path("/admin/users")})},a.roles=[{id:"ROLE_ADMIN",name:"Адміністратор факультету"},{id:"ROLE_SUPERADMIN",name:"Адміністратор репозиторію"},{id:"ROLE_USER",name:"Простий користувач"}],a.faculties=g.list(),a.cancel=function(){c.path("/admin/users")}}]),angular.module("dnuApp").controller("UserAdminListCtrl",["$scope","$location","restFaculty","restUsers","restUser",function(a,b,c,d,e){a.editUser=function(a){b.path("/admin/user/"+a)},a.deleteUser=function(b){e["delete"]({id:b},function(){a.users=d.admin_list()})},a.createNewUser=function(){b.path("/admin/user")},a.users=d.admin_list()}]),angular.module("restAuth",["ngResource"]).factory("restAuthentication",["$rootScope","$resource",function(a,b){return b("http://"+a.serviceIp+":8080/filestorage/login",{},{authenticate:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}})}]).factory("AuthService",["$http","Session","$rootScope","USER_ROLES","$cookieStore",function(a,b,c,d,e){var f={};return f.login=function(){var d={method:"GET",url:"http://"+c.serviceIp+":8080/filestorage/login"};return a(d).success(function(a){return b.create(a.name,a.roles),f.reInit(),a.data}).error(function(){e.remove("authToken"),f.reInit()})},f.isAuthenticated=function(){return!!b.userName},f.isAuthorized=function(a){return angular.isArray(a)||(a=[a]),f.isAuthenticated()&&a.filter(function(a){return-1!=b.userRoles.indexOf(a)}).length>0},f.isSuper=function(){return f.isAuthorized(d.admin)},f.isAdmin=function(){return f.isAuthorized([d.editor,d.admin])},f.isEditor=function(){return f.isAuthorized(d.editor)},f.reInit=function(){c.isLoggedIn=f.isAuthenticated(),c.isSuper=f.isSuper(),c.isAdmin=f.isAdmin(),c.isEditor=f.isEditor()},f}]).service("Session",function(){this.create=function(a,b){this.userName=a,this.userRoles=b},this.destroy=function(){this.userName=null,this.userRoles=null}}).constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("USER_ROLES",{all:"*",admin:"ROLE_SUPERADMIN",editor:"ROLE_ADMIN",guest:"ROLE_USER"}),angular.module("restFacultyResource",["ngResource"]).factory("restFaculty",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/faculty/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restFaculties",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/faculty",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/faculty/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/faculty/count",method:"GET"}})}]),angular.module("restFreeResourceResource",["ngResource"]).factory("restFreeResource",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/free_resource/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restFreeResources",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/free_resource",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/free_resource/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/free_resource/count",method:"GET"}})}]),angular.module("restResourceResource",["ngResource"]).factory("restResource",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/resource/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"},headers:{"Content-Type":void 0}},"delete":{method:"DELETE"}})}]).factory("restResources",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/resource",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/resource/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/resource/count",method:"GET"}})}]),angular.module("restCategoryResource",["ngResource"]).factory("restCategory",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/category/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restCategories",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/category",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/category/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/category/count",method:"GET"}})}]).factory("restFreeCategory",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/freeCategory/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restFreeCategories",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/freeCategory",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/freeCategory/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/freeCategory/count",method:"GET"}})}]),angular.module("restSearchResource",["ngResource"]).factory("restSearch",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/search",{},{search:{method:"GET",params:{searchKey:"@search"},isArray:!0}})}]),angular.module("restDepartmentResource",["ngResource"]).factory("restDepartment",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/department/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restDepartments",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/department",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/department/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/department/count",method:"GET"}})}]),angular.module("restSpecialityResource",["ngResource"]).factory("restSpeciality",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/speciality/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restSpecialities",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/speciality",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/speciality/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/speciality/count",method:"GET"}})}]),angular.module("restLinkResource",["ngResource"]).factory("restLink",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/links/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restLinks",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/links",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/links/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/links/count",method:"GET"}})}]),angular.module("restSubjectResource",["ngResource"]).factory("restSubject",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/subject/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restSubjects",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/subject",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/subject/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/subject/count",method:"GET"}})}]),angular.module("restUserResource",["ngResource"]).factory("restUser",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/user/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restUsers",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/user",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/user/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/user/count",method:"GET"}})}]),angular.module("restTeacherResource",["ngResource"]).factory("restTeacher",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/teacher/:id",{},{get:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE"}})}]).factory("restTeachers",["$resource","$rootScope",function(a,b){return a("http://"+b.serviceIp+":8080/filestorage/rest/teacher",{},{list:{method:"GET",isArray:!0},admin_list:{url:"http://"+b.serviceIp+":8080/filestorage/rest/teacher/filtered",method:"GET",isArray:!0},create:{method:"POST"},count:{url:"http://"+b.serviceIp+":8080/filestorage/rest/teacher/count",method:"GET"}})}]),angular.module("dnuApp.directives",[]),angular.module("dnuApp.directives").directive("isotopeDnuContainer",function(){return{link:function(a,b){return a.$on("LastElem",function(){new Isotope("#"+b.get(0).id,{itemSelector:".isotope-item",layoutMode:"masonry"})}),b}}}).directive("isotopeDnuItem",function(){return function(a,b){return a.$last&&a.$emit("LastElem"),b}}),angular.module("dnuApp.directives").directive("dnuPager",function(){return{templateUrl:"views/dnu-pager.html"}}).directive("activeLink",["$location",function(a){return{restrict:"A",link:function(b,c,d){var e=d.activeLink,f=d.ngHref;f=f.substring(1),b.location=a,b.$watch("location.url()",function(a){f===a?c.addClass(e):c.removeClass(e)})}}}]),angular.module("dnuApp.directives").directive("bootstrapSelect",function(){return{link:function(a,b){setTimeout(function(){return $(b).selectpicker()},2e3)}}});